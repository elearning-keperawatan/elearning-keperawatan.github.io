import{o as e,c as a,a as l,m as r,n as s,q as t,A as o,r as d,l as i,t as n,j as g,F as u,h as c,u as p,f as b,b as v,B as y,s as f}from"./index.46ef241a.js";function m(r,s){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function h(r,s){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"}),l("path",{"fill-rule":"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function x(r,s){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function k(r,s){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function w(r,s){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})])}const z={key:0,class:"mt-3 text-lg font-semibold text-gray-700 dark:text-gray-200"},S={class:"w-full overflow-hidden rounded-lg shadow-xs mt-3"},C={class:"w-full overflow-x-auto"},L={class:"w-full whitespace-no-wrap"},P={class:"text-sm font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-600 bg-gray-50 dark:text-gray-300 dark:bg-gray-800"},M=l("th",{class:"px-4 py-2",style:{width:"30px"}},"No.",-1),A={key:0,class:"text-sm bg-white divide-y dark:divide-gray-700 dark:bg-gray-800"},j={class:"px-4 py-1"},B={key:1},H={key:0},T=f('<div class="animate-pulse"><div class="h-3 bg-gray-200 dark:bg-gray-600 mt-3 mb-2 rounded"></div><div class="h-3 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div><div class="h-3 bg-gray-200 dark:bg-gray-600 mb-2 rounded"></div><div class="h-3 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div><div class="h-3 bg-gray-200 dark:bg-gray-600 mb-2 rounded"></div><div class="h-3 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div><div class="h-3 bg-gray-200 dark:bg-gray-600 mb-2 rounded"></div><div class="h-3 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div><div class="h-3 bg-gray-200 dark:bg-gray-600 mb-2 rounded"></div><div class="h-3 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div><div class="h-3 bg-gray-200 dark:bg-gray-600 mb-2 rounded"></div><div class="h-3 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div><div class="h-3 bg-gray-200 dark:bg-gray-600 mb-2 rounded"></div><div class="h-3 bg-gray-300 dark:bg-gray-700 mb-2 rounded"></div></div>',1),U={key:1,class:"grid px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase border-t dark:border-gray-700 bg-gray-50 sm:grid-cols-9 dark:text-gray-400 dark:bg-gray-800"},q={class:"flex items-center col-span-4"},D={class:"flex col-span-5 mt-2 sm:mt-auto sm:justify-end"},K={"aria-label":"Table navigation"},N={class:"inline-flex items-center"},O={class:"flex items-center col-span-4"},V={class:"mr-2"},I=l("option",{value:"10"},"10",-1),E=l("option",{value:"25"},"25",-1),F=l("option",{value:"50"},"50",-1),_={class:"flex items-center col-span-5 sm:mt-auto sm:justify-end"},G={class:"mr-2"},J={key:2},Q={class:"text-gray-700 dark:text-gray-200"},R={expose:[],props:{apiUrl:{type:String,require:!0},columns:{type:Array,require:!0},filter:Object,title:String,sortable:{type:Object,default:()=>({order:"id",sort:"asc"})}},setup(f){const R=f;String.prototype.format=function(){var e=arguments;return this.replace(/{([0-9]*)}/g,(function(a,l){return void 0!==e[l]?e[l]:a}))},r((()=>{Z()}));const W=s(!1),X=s([]),Y=s(0),Z=()=>{X.value=[],W.value=!0;const e={page:$.page,pageSize:$.pageSize};if(R.filter)for(const a of Object.keys(R.filter))R.filter[a]&&(e[a]=R.filter[a]);t.get(R.apiUrl,{params:e}).then((function({data:e}){X.value=e.rows,Y.value=e.total,W.value=!1}))};o((()=>R.filter),Z,{deep:!0});const $=d({keyColumn:i((()=>{let e="";return R.columns.forEach((a=>{a.isKey&&(e=a.field)})),e})),page:1,pageSize:10,maxPage:i((()=>{if(Y.value<=0)return 0;let e=Math.floor(Y.value/$.pageSize);return Y.value%$.pageSize>0&&e++,e})),offset:i((()=>($.page-1)*$.pageSize+1)),limit:i((()=>{let e=$.page*$.pageSize;return Y.value>=e?e:Y.value})),pagging:i((()=>{let e=$.page-2<=0?1:$.page-2;$.maxPage-$.page<=2&&(e=$.maxPage-4),e=e<=0?1:e;let a=[];for(let l=e;l<=$.maxPage;l++)a.length<4&&a.push(l);return a})),messages:{pagingInfo:"Tampil {0}-{1} dari {2}",pageSizeChangeLabel:"Tampilkan: ",gotoPageLabel:"Lompat Ke Halaman: ",noDataAvailable:"Data Kosong"}}),ee=(e,a)=>{$.isCheckAll=!1,R.sortable.order,R.sortable.sort,$.pageSize,$.pageSize,Z()};o((()=>$.page),ee);o((()=>$.pageSize),(()=>{1===$.page?ee($.page,$.page):($.page=1,$.isCheckAll=!1)}));const ae=()=>{if(1==$.page)return!1;$.page--},le=()=>{if($.page>=$.maxPage)return!1;$.page++};return(r,s)=>(e(),a(u,null,[f.title?(e(),a("h2",z,n(f.title),1)):g("",!0),l("div",S,[l("div",C,[l("table",L,[l("thead",null,[l("tr",P,[M,(e(!0),a(u,null,c(f.columns,((r,s)=>(e(),a("th",{key:s,style:{width:r.width?r.width:"auto"}},[l("div",{class:["px-4 py-2",{sortable:r.sortable,both:r.sortable,asc:f.sortable.order==r.field&&"asc"==f.sortable.sort,desc:f.sortable.order==r.field&&"desc"==f.sortable.sort}],onClick:e=>!!r.sortable&&(e=>{let a="asc";e==R.sortable.order&&"asc"==R.sortable.sort&&(a="desc");let l=($.page-1)*$.pageSize,r=$.pageSize;emit("do-search",l,r,e,a)})(r.field)},n(r.label),11,["onClick"])],4)))),128))])]),X.value.length>0?(e(),a("tbody",A,[(e(!0),a(u,null,c(X.value,((r,s)=>(e(),a("tr",{class:"text-gray-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer",key:s},[l("td",j,n(s+1+p($).pageSize*(p($).page-1)),1),(e(!0),a(u,null,c(f.columns,((l,s)=>(e(),a("td",{key:s,class:"px-4 py-1"},[l.formatter?(e(),a("div",{key:0,innerHTML:l.formatter(r[l.field],r)},null,8,["innerHTML"])):(e(),a("span",B,n(r[l.field]),1))])))),128))])))),128))])):g("",!0)])]),W.value?(e(),a("div",H,[T])):g("",!0),X.value.length>0?(e(),a("div",U,[l("span",q,[b(n(p($).messages.pagingInfo.format(p($).offset,p($).limit,Y.value))+" ",1),l("button",{class:"px-3 py-1 rounded-md rounded-l-lg",onClick:s[1]||(s[1]=e=>Z())},[l(p(w),{class:"w-4 h-4"})])]),l("span",D,[l("nav",K,[l("ul",N,[l("li",{class:{disabled:p($).page<=1}},[l("button",{class:"px-3 py-1 rounded-md rounded-l-lg focus:outline-none focus:shadow-outline-blue",onClick:s[2]||(s[2]=e=>p($).page=1),"aria-label":"Previous"},[l(p(m),{class:"w-4 h-4"})])],2),l("li",{class:{disabled:p($).page<=1}},[l("button",{class:"px-3 py-1 rounded-md rounded-l-lg focus:outline-none focus:shadow-outline-blue",onClick:ae,"aria-label":"Previous"},[l(p(x),{class:"w-4 h-4"})])],2),(e(!0),a(u,null,c(p($).pagging,(r=>(e(),a("li",{key:r,class:{disabled:p($).page==r}},[l("button",{class:["px-3 py-1 text-blue rounded-md focus:outline-none focus:shadow-outline-blue",p($).page==r&&"transition-colors duration-150 bg-blue-600 border border-r-0 border-blue-600 text-white"],onClick:e=>{return a=r,void($.page=a);var a}},n(r),11,["onClick"])],2)))),128)),l("li",{class:{disabled:p($).page>=p($).maxPage}},[l("button",{class:"px-3 py-1 rounded-md rounded-r-lg focus:outline-none focus:shadow-outline-blue",onClick:le,"aria-label":"Next"},[l(p(k),{class:"w-4 h-4"})])],2),l("li",{class:{disabled:p($).page>=p($).maxPage}},[l("button",{class:"px-3 py-1 rounded-md rounded-r-lg focus:outline-none focus:shadow-outline-blue",onClick:s[3]||(s[3]=e=>p($).page=p($).maxPage),"aria-label":"Next"},[l(p(h),{class:"w-4 h-4"})])],2)])])]),l("span",O,[l("span",V,n(p($).messages.pageSizeChangeLabel),1),v(l("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>p($).pageSize=e),class:"py-1 rounded text-xs dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-blue-400 focus:outline-none focus:shadow-outline-blue dark:focus:shadow-outline-gray"},[I,E,F],512),[[y,p($).pageSize]])]),l("span",_,[l("span",G,n(p($).messages.gotoPageLabel),1),v(l("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>p($).page=e),class:"py-1 rounded text-xs dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-blue-400 focus:outline-none focus:shadow-outline-blue dark:focus:shadow-outline-gray"},[(e(!0),a(u,null,c(p($).maxPage,(l=>(e(),a("option",{key:l},n(l),1)))),128))],512),[[y,p($).page]])])])):(e(),a("div",J,[l("div",Q,n(p($).messages.noDataAvailable),1)]))])],64))}};export{R as _};
